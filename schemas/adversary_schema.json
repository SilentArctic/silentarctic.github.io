{
   "$id": "https://silentarctic.github.io/schemas/adversary_schema.json",
   "type": "array",
   "items": {
      "type": "object",
      "properties": {
         "name": {
            "type": "string",
            "description": "Adversary name."
         },
         "page": {
            "type": "integer",
            "description": "Page on which this adversary is found in the source document."
         },
         "type": {
            "type": "string",
            "enum": [
               "minion",
               "rival",
               "nemesis"
            ],
            "description": "Type of this adversary."
         },
         "npc": {
            "type": "boolean",
            "description": "If this adversary is a named NPC."
         },
         "hasVariants": {
            "type": "boolean",
            "description": "If this adversary has any variants (variants are created as separate entries)."
         },
         "variant": {
            "type": "boolean",
            "description": "If this adversary is a variant of an adversary."
         },
         "characteristics": {
            "type": "object",
            "properties": {
               "brawn": {
                  "type": "integer",
                  "description": "Adversary's brawn."
               },
               "agility": {
                  "type": "integer",
                  "description": "Adversary's agility."
               },
               "intellect": {
                  "type": "integer",
                  "description": "Adversary's intellect."
               },
               "cunning": {
                  "type": "integer",
                  "description": "Adversary's cunning."
               },
               "willpower": {
                  "type": "integer",
                  "description": "Adversary's willpower."
               },
               "presence": {
                  "type": "integer",
                  "description": "Adversary's presence."
               }
            },
            "required": [
               "brawn",
               "agility",
               "intellect",
               "cunning",
               "willpower",
               "presence"
            ],
            "additionalProperties": false
         },
         "derived": {
            "type": "object",
            "properties": {
               "soak": {
                  "type": "integer",
                  "description": "Adversary's soak."
               },
               "wounds": {
                  "type": "integer",
                  "description": "Adversary's wound threshold."
               },
               "strain": {
                  "type": "integer",
                  "description": "Adversary's strain threshold (only for Nemesis adversaries)."
               },
               "defense": {
                  "type": "array",
                  "items": {
                     "type": "integer",
                     "description": "Adversary's defense (first is melee, second is ranged)."
                  },
                  "maxItems": 2
               }
            },
            "required": [
               "soak",
               "wounds",
               "defense"
            ],
            "optional": [
               "strain"
            ],
            "additionalProperties": false
         },
         "powerLevels": {
            "type": "object",
            "properties": {
               "combat": {
                  "type": "integer",
                  "description": "Adversary's approximate combat strength."
               },
               "general": {
                  "type": "integer",
                  "description": "Adversary's approximate general strength."
               },
               "social": {
                  "type": "integer",
                  "description": "Adversary's approximate social strength."
               }
            },
            "required": [
               "combat",
               "general",
               "social"
            ],
            "additionalProperties": false
         },
         "skills": {
            "type": "array",
            "items": {
               "type": "object",
               "properties": {
                  "name": {
                     "type": "string",
                     "description": "Name of skill."
                  },
                  "characteristic": {
                     "type": "string",
                     "description": "Characteristic tied to the skill.",
                     "enum": [
                        "brawn",
                        "agility",
                        "intellect",
                        "cunning",
                        "willpower",
                        "presence"
                     ]
                  },
                  "ranks": {
                     "type": "integer",
                     "description": "Adversary's ranks in the skill (omit for Minions)."
                  },
                  "source": {
                     "type": "string",
                     "description": "Source of the skill (abbreviation) if not found in this content pack (example: CRB)."
                  }
               },
               "required": [
                  "name",
                  "characteristic"
               ],
               "optional": [
                  "ranks",
                  "source"
               ],
               "additionalProperties": false
            }
         },
         "motivations": {
            "type": "array",
            "items": {
               "type": "object",
               "properties": {
                  "name": {
                     "type": "string",
                     "description": "Motivation name."
                  },
                  "description": {
                     "type": "string",
                     "description": "Motivation details."
                  }
               },
               "required": [
                  "name",
                  "description"
               ],
               "additionalProperties": false
            }
         },
         "talents": {
            "type": "array",
            "items": {
               "oneOf": [
                  {
                     "title": "Internal Talent",
                     "type": "string",
                     "description": "Name of talent from this collection."
                  },
                  {
                     "title": "External Talent",
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "description": "Name of talent from other collection."
                        },
                        "source": {
                           "type": "string",
                           "description": "Talent source (abbreviation) (example: CRB)."
                        }
                     },
                     "required": [
                        "name",
                        "source"
                     ],
                     "additionalProperties": false
                  }
               ]
            }
         },
         "abilities": {
            "type": "array",
            "items": {
               "oneOf": [
                  {
                     "title": "External Ability",
                     "type": "string",
                     "description": "Name of ability found in this, or any, content pack's Adversary Abilities."
                  },

                  {
                     "title": "Private Ability",
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "description": "Name of this ability which is not found in any Adversary Abilities."
                        },
                        "description": {
                           "type": "string",
                           "description": "Ability details."
                        }
                     },
                     "required": [
                        "name",
                        "description"
                     ],
                     "additionalProperties": false
                  }
               ]
            }
         },
         "spells": {
            "type": "object",
            "properties": {
               "skills": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "description": "Name of the magic skill this adversary can use."
                        },
                        "source": {
                           "type": "string",
                           "description": "Source of the skill (abbreviation) if not found in this content pack (example: CRB)."
                        }
                     },
                     "required": [
                        "name"
                     ],
                     "optional": [
                        "source"
                     ],
                     "additionalProperties": false
                  }
               },
               "spells": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "description": "Spell name. Consider adding the difficulty here as well (example: {@difficulty Average})."
                        },
                        "description": {
                           "type": "string",
                           "description": "Details of the spell."
                        }
                     },
                     "required": [
                        "name",
                        "description"
                     ],
                     "additionalProperties": false
                  }
               }
            },
            "required": [
               "skills",
               "spells"
            ],
            "additionalProperties": false
         },
         "weapons": {
            "type": "array",
            "items": {
               "type": "object",
               "properties": {
                  "name": {
                     "type": "string",
                     "description": "Weapon name."
                  },
                  "skill": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "description": "Name of skill used with this weapon."
                        },
                        "source": {
                           "type": "string",
                           "description": "Source of the skill (abbreviation) if not found in this content pack (example: CRB)."
                        }
                     },
                     "required": [
                        "name"
                     ],
                     "optional": [
                        "source"
                     ],
                     "additionalProperties": false
                  },
                  "damage": {
                     "type": "integer",
                     "description": "The weapon's damage."
                  },
                  "critical": {
                     "type": "integer",
                     "description": "Number of advantage required to trigger a critical hit."
                  },
                  "range": {
                     "type": "string",
                     "enum": [
                        "Engaged",
                        "Short",
                        "Medium",
                        "Long",
                        "Extreme",
                        "Strategic"
                     ],
                     "description": "The weapon's maximum range."
                  },
                  "qualities": {
                     "type": "array",
                     "items": {
                        "type": "object",
                        "properties": {
                           "name": {
                              "type": "string",
                              "description": "Weapon quality name."
                           },
                           "ranks": {
                              "type": "integer",
                              "description": "Quality ranks."
                           },
                           "source": {
                              "type": "string",
                              "description": "Source of the quality (abbreviation) if not found in this content pack (example: CRB)."
                           }
                        },
                        "required": [
                           "name"
                        ],
                        "optional": [
                           "ranks",
                           "source"
                        ],
                        "additionalProperties": false
                     }
                  },
                  "details": {
                     "type": "string"
                  }
               },
               "required": [
                  "name",
                  "skill",
                  "damage",
                  "critical",
                  "range"
               ],
               "optional": [
                  "qualities",
                  "details"
               ],
               "additionalProperties": false
            }
         },
         "gear": {
            "type": "array",
            "items": {
               "type": "string",
               "description": "Any other gear the adversary possesses. Words after a colon (:) will not be bolded."
            }
         },
         "description": {
            "$ref": "./varyingDisplay_sub_schema.json"
         },
         "settings": {
            "$ref": "./settings_sub_schema.json"
         },
         "tags": {
            "type": "array",
            "items": {
               "type": "string",
               "description": "Deprecated. Adversary tags."
            }
         },
         "id": {
            "type": "string",
            "description": "Unique item id. You shouldn't have to touch this field."
         }
      },
      "required": [
         "name",
         "type",
         "characteristics",
         "derived",
         "skills"
      ],
      "optional": [
         "page",
         "npc",
         "variant",
         "hasVariants",
         "description",
         "powerLevels",
         "motivations",
         "talents",
         "abilities",
         "weapons",
         "gear",
         "tags",
         "settings"
      ],
      "additionalProperties": false
   }
}