{
   "$id": "https://silentarctic.github.io/schemas/varyingDisplay_sub_schema.json",
   "type": "array",
   "items": {
      "oneOf": [
         {
            "type": "string",
            "builder_label": "text",
            "description": "Text description."
         },

         {
            "type": "object",
            "builder_label": "special text",
            "description": "Text description with extra stylizing options.",
            "properties": {
               "type": {
                  "type": "string",
                  "description": "Display type.",
                  "enum": [
                     "text",
                     "sidebar",
                     "example",
                     "read-aloud",
                     "codeblock"
                  ]
               },
               "title": {
                  "type": "string",
                  "description": "Title of the container."
               },
               "forceTitleLevel": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 6,
                  "description": "Only applicable to text containers. Forces the title to the style for the given depth. Nested containers will also have their title levels increased."
               },
               "page": {
                  "type": "integer",
                  "description": "Page number on which the title can be found."
               },
               "hasModal": {
                  "type": "boolean",
                  "description": "If the container should pop out into a modal. You will most likely never need this."
               },
               "entries": { "$ref": "varyingDisplay_sub_schema.json" },
               "_ref": {
                  "type": "object",
                  "description": "Populate the container a pre-existing reference. Note: the reference must have a matching \"type\".",
                  "properties": {
                     "name": {
                        "type": "string",
                        "description": "Reference name."
                     },
                     "source": {
                        "type": "string",
                        "description": "Reference source (if not in the collection.)."
                     }
                  },
                  "required": [
                     "name"
                  ],
                  "optional": [
                     "source"
                  ],
                  "additionalProperties": false
               }
            },
            "required": [
               "entries"
            ],
            "optional": [
               "type",
               "title",
               "page",
               "forceTitleLevel",
               "hasModal",
               "_ref"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "notice",
            "description": "Notice display. Wraps text in a bright container to grab the reader's attention.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["notice"],
                  "description": "Display type."
               },
               "variant": {
                  "type": "string",
                  "enum": [
                     "info",
                     "success",
                     "warn",
                     "error"
                  ],
                  "description": "Notice variant."
               },
               "entries": {
                  "type": "array",
                  "description": "Notice content.",
                  "items": {
                     "type": "string"
                  }
               }
            },
            "required": [
               "type",
               "entries"
            ],
            "optional": [
               "variant"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "quote",
            "description": "Quote display. Stylizes a quote and attributes the author.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["quote"],
                  "description": "Display type."
               },
               "entries": {
                  "type": "array",
                  "description": "Quote text.",
                  "items": {
                     "type": "string"
                  }
               },
               "by": {
                  "type": "string",
                  "description": "Author attribution."
               }
            },
            "required": [
               "type",
               "entries"
            ],
            "optional": [
               "by"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "list",
            "description": "Display's a (bulleted or not) list of items.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["list", "list-no-bullet"],
                  "description": "Display type."
               },
               "title": {
                  "type": "string",
                  "description": "List title."
               },
               "description": {
                  "type": "string",
                  "description": "List description."
               },
               "items": {
                  "type": "array",
                  "description": "Items to appear in the list.",
                  "list": {
                     "type": "string"
                  }
               }
            },
            "required": [
               "type",
               "items"
            ],
            "optional": [
               "title",
               "description"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "table",
            "description": "Displays a table.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["table"],
                  "description": "Display type."
               },
               "title": {
                  "type": "string",
                  "description": "Table title."
               },
               "subtitle": {
                  "type": "string",
                  "description": "Table subtitle."
               },
               "foot": {
                  "type": "string",
                  "description": "Table footer."
               },
               "columns": {
                  "type": "array",
                  "description": "List of table columns.",
                  "items": {
                     "type": "object",
                     "properties": {
                        "header": {
                           "type": "string",
                           "description": "Column header."
                        },
                        "value": {
                           "type": "string",
                           "description": "Row property to display. Can be omitted if the header matches a row property (case-insensitive)."
                        },
                        "size": {
                           "type": "integer",
                           "description": "Column width, relative to all columns. Defaults to 1."
                        }
                     },
                     "required": [
                        "header"
                     ],
                     "optional": [
                        "value",
                        "size"
                     ],
                     "additionalProperties": false
                  }
               },
               "rows": {
                  "type": "array",
                  "description": "Table rows.",
                  "items": {
                     "type": "object",
                     "properties": {
                        "subtitle": {
                           "type": "string",
                           "description": "Subtitle label for dividing sections."
                        }
                     },
                     "optional": [
                        "subtitle"
                     ]
                  }
               },
               "_ref": {
                  "type": "object",
                  "description": "Reference to another table",
                  "properties": {
                     "name": {
                        "type": "string",
                        "description": "Table name."
                     },
                     "source": {
                        "type": "string",
                        "description": "Table source (if not in this collection)."
                     }
                  },
                  "required": [
                     "name"
                  ],
                  "optional": [
                     "source"
                  ],
                  "additionalProperties": false
               }
            },
            "required": [
               "type",
               "columns",
               "rows"
            ],
            "optional": [
               "title",
               "subtitle",
               "foot",
               "_ref"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "grid",
            "description": "Creates a grid for formatting content.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["grid"],
                  "description": "Display type."
               },
               "columns": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Number of columns."
               },
               "entries": {
                  "$ref": "varyingDisplay_sub_schema.json",
                  "description": "Grid content."
               }
            },
            "required": [
               "type",
               "columns",
               "entries"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "image",
            "description": "Image display.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["image"],
                  "description": "Display type."
               },
               "imageUrl": {
                  "type": "string",
                  "description": "Image url."
               },
               "height": {
                  "type": "string",
                  "description": "Image max height in {@code px}, {@code %}, or any other css size value."
               },
               "width": {
                  "type": "string",
                  "description": "Image max width in {@code px}, {@code %}, or any other css size value."
               }
            },
            "required": [
               "type",
               "imageUrl"
            ],
            "optional": [
               "height",
               "width"
            ],
            "additionalProperties": false
         },

         {
            "type": "object",
            "builder_label": "rule",
            "description": "Displays an existing rule.",
            "properties": {
               "type": {
                  "type": "string",
                  "enum": ["rule"],
                  "description": "Display type."
               },
               "_ref": {
                  "type": "object",
                  "properties": {
                     "name": {
                        "type": "string",
                        "description": "Rule name."
                     },
                     "source": {
                        "type": "string",
                        "description": "Rule source (if not this collection)."
                     }
                  },
                  "required": [
                     "name"
                  ],
                  "optional": [
                     "source"
                  ],
                  "additionalProperties": false
               },
               "description": {
                  "type": "array",
                  "description": "Additional rule details."
               }
            },
            "required": [
               "type",
               "_ref",
               "description"
            ],
            "additionalProperties": false
         }
      ]
   }
}