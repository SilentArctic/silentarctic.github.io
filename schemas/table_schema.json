{
   "$id": "https://silentarctic.github.io/schemas/table_schema.json",
   "type": "array",
   "items": {
      "type": "object",
      "properties": {
         "name": {
            "type": "string",
            "description": "Table name."
         },
         "page": {
            "type": "integer",
            "description": "Source page reference."
         },
         "subtitle": {
            "type": "string",
            "description": "Subtitle (goes above the table)."
         },
         "foot": {
            "type": "string",
            "description": "Alternate subtitle (goes below the table)."
         },
         "columns": {
            "type": "array",
            "description": "List of column headers for the table.",
            "items": {
               "type": "object",
               "properties": {
                  "header": {
                     "type": "string",
                     "description": "Label displayed at the top of the column."
                  },
                  "value": {
                     "type": "string",
                     "description": "This value is mapped to the rows so each value is placed in the correct column. If this value is omitted, the \"header\" value will be used instead (case insensitive)."
                  },
                  "size": {
                     "type": "integer",
                     "description": "Width of the column. This is calculated as a fraction of the total column sizes. Example: three columns with widths 2, 3, 3. Total is 8, so the first column will be 2/8 (or 1/4) the total width of the table."
                  }
               },
               "required": [
                  "header"
               ],
               "optional": [
                  "value",
                  "size"
               ],
               "additionalProperties": false
            }
         },
         "rows": {
            "type": "array",
            "description": "Rows in the table. Each top-level item represents a row and must have <key>:<value> pairs in the order of <col header/value>:<cell data>. A property name of \"subtitle\" will instead render a subtitle with the given value.",
            "items": {
               "anyOf": [
                  {
                     "type": "object",
                     "title": "Subtitle",
                     "description": "A subtitle row spans the entire width of the table and has a solid background to separate different sections of the table.",
                     "properties": {
                        "subtitle": {
                           "type": "string",
                           "description": "Subtitle text."
                        }
                     },
                     "optional": [
                        "subtitle"
                     ]
                  },
                  {
                     "type": "object",
                     "title": "Row",
                     "description": "Each row is an object containing key/value pairs. The key must match a column header or value, and the value is the cell content.",
                     "patternProperties": {
                        "^(?!subtitle$).*": {
                           "type": ["string", "array"],
                           "items": {
                              "type": "string"
                           },
                           "description": "Cell content for the column."
                        }
                     }
                  }
               ]
            }
         },
         "id": {
            "type": "string",
            "description": "Unique item id. You shouldn't have to touch this field."
         }
      },
      "required": [
         "name",
         "columns",
         "rows"
      ],
      "optional": [
         "page",
         "subtitle",
         "foot"
      ],
      "additionalProperties": false
   }
}
